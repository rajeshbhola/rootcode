---
layout: default
title: All Posts
permalink: /posts/
---

<div class="posts-page-header">
  <h1>All Posts</h1>
  <p>Browse all articles from RootCode</p>
</div>

<div class="posts" id="posts-container">
  {% for post in site.posts %}
    <article class="post" data-post onclick="window.location='{{ site.baseurl }}{{ post.url }}'">
      <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>

      <div class="post-meta">
        <img src="{{ site.author_image }}" alt="{{ site.author }}" class="post-author-image" />
        <span class="post-author">{{ site.author }}</span>
        <span class="meta-separator">â€¢</span>
        <span class="post-date">{{ post.date | date: "%B %d" }}</span>
      </div>

      <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 25 }}</p>

      <a href="{{ site.baseurl }}{{ post.url }}" class="read-more" onclick="event.stopPropagation();">Read More</a>
    </article>
  {% endfor %}
</div>

<div class="pagination" id="pagination-controls" style="display: none;">
  <button class="pagination-btn pagination-prev" id="prev-btn" disabled>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
    Previous
  </button>

  <div class="pagination-numbers" id="page-numbers"></div>

  <button class="pagination-btn pagination-next" id="next-btn">
    Next
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </button>
</div>

<div class="pagination-info" id="pagination-info" style="display: none;">
  <p></p>
</div>

<script>
(function() {
  'use strict';

  const postsPerPage = 10;
  const postsContainer = document.getElementById('posts-container');
  const paginationControls = document.getElementById('pagination-controls');
  const paginationInfo = document.getElementById('pagination-info');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const pageNumbers = document.getElementById('page-numbers');

  const allPosts = Array.from(document.querySelectorAll('[data-post]'));
  const totalPosts = allPosts.length;
  const totalPages = Math.ceil(totalPosts / postsPerPage);
  let currentPage = 1;

  function showPage(page) {
    currentPage = page;

    // Hide all posts
    allPosts.forEach(post => post.style.display = 'none');

    // Show posts for current page
    const start = (page - 1) * postsPerPage;
    const end = start + postsPerPage;
    allPosts.slice(start, end).forEach(post => post.style.display = 'flex');

    // Update pagination controls
    updatePaginationControls();

    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function updatePaginationControls() {
    // Update prev button
    prevBtn.disabled = currentPage === 1;
    if (currentPage === 1) {
      prevBtn.classList.add('disabled');
    } else {
      prevBtn.classList.remove('disabled');
    }

    // Update next button
    nextBtn.disabled = currentPage === totalPages;
    if (currentPage === totalPages) {
      nextBtn.classList.add('disabled');
    } else {
      nextBtn.classList.remove('disabled');
    }

    // Update page numbers
    pageNumbers.innerHTML = '';
    for (let i = 1; i <= totalPages; i++) {
      if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
        const pageBtn = document.createElement(i === currentPage ? 'span' : 'a');
        pageBtn.className = 'pagination-number' + (i === currentPage ? ' active' : '');
        pageBtn.textContent = i;
        if (i !== currentPage) {
          pageBtn.href = '#';
          pageBtn.addEventListener('click', function(e) {
            e.preventDefault();
            showPage(i);
          });
        }
        pageNumbers.appendChild(pageBtn);
      } else if (i === currentPage - 2 || i === currentPage + 2) {
        const ellipsis = document.createElement('span');
        ellipsis.className = 'pagination-ellipsis';
        ellipsis.textContent = '...';
        pageNumbers.appendChild(ellipsis);
      }
    }

    // Update info
    const start = (currentPage - 1) * postsPerPage + 1;
    const end = Math.min(currentPage * postsPerPage, totalPosts);
    paginationInfo.querySelector('p').textContent =
      `Page ${currentPage} of ${totalPages}`;
  }

  // Event listeners
  prevBtn.addEventListener('click', function() {
    if (currentPage > 1) {
      showPage(currentPage - 1);
    }
  });

  nextBtn.addEventListener('click', function() {
    if (currentPage < totalPages) {
      showPage(currentPage + 1);
    }
  });

  // Initialize
  if (totalPages > 1) {
    paginationControls.style.display = 'flex';
    paginationInfo.style.display = 'block';
    showPage(1);
  }
})();
</script>
