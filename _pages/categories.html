---
layout: page
title: Categories
permalink: /categories/
---

<div class="categories-page-new">
  <div class="categories-header">
    <h1>Explore by Category</h1>
    <p>Browse articles organized by topic</p>
  </div>

  <div class="categories-grid">
    {% assign categories = site.categories | sort %}
    {% for category in categories %}
      <div class="category-card" data-category="{{ category[0] | slugify }}">
        <div class="category-card-inner">
          <div class="category-icon-wrapper">
            <span class="category-icon">üìÅ</span>
          </div>
          <h3 class="category-name">{{ category[0] }}</h3>
          <p class="category-description">
            {% if category[1].size == 1 %}
              {{ category[1].size }} article
            {% else %}
              {{ category[1].size }} articles
            {% endif %}
          </p>
          <div class="category-badge-count">{{ category[1].size }}</div>
        </div>
      </div>

      <div class="category-modal" id="modal-{{ category[0] | slugify }}" style="display: none;">
        <div class="category-modal-overlay"></div>
        <div class="category-modal-content">
          <div class="category-modal-header">
            <div class="category-modal-title">
              <span class="category-icon">üìÅ</span>
              <h2>{{ category[0] }}</h2>
              <span class="category-modal-count">{{ category[1].size }} articles</span>
            </div>
            <button class="category-modal-close" aria-label="Close">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
          <div class="category-modal-posts">
            {% assign posts = category[1] | sort: 'date' | reverse %}
            {% for post in posts %}
              <article class="category-post-card" onclick="window.location='{{ site.baseurl }}{{ post.url }}'">
                <div class="category-post-content">
                  <h4><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h4>
                  <div class="category-post-meta">
                    <span class="post-date">{{ post.date | date: "%B %d" }}</span>
                    {% if post.tags.size > 0 %}
                      <span class="post-tags-preview">
                        {% for tag in post.tags limit:2 %}
                          <span class="mini-tag">{{ tag }}</span>
                        {% endfor %}
                      </span>
                    {% endif %}
                  </div>
                  <p class="category-post-excerpt">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
                </div>
                <div class="category-post-arrow">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </div>
              </article>
            {% endfor %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<script>
(function() {
  'use strict';

  const categoryCards = document.querySelectorAll('.category-card');

  categoryCards.forEach(card => {
    card.addEventListener('click', function() {
      const categoryId = this.getAttribute('data-category');
      const modal = document.getElementById('modal-' + categoryId);
      if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
      }
    });
  });

  const closeButtons = document.querySelectorAll('.category-modal-close');
  const overlays = document.querySelectorAll('.category-modal-overlay');

  function closeModal(modal) {
    modal.style.display = 'none';
    document.body.style.overflow = '';
  }

  closeButtons.forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      const modal = this.closest('.category-modal');
      closeModal(modal);
    });
  });

  overlays.forEach(overlay => {
    overlay.addEventListener('click', function() {
      const modal = this.closest('.category-modal');
      closeModal(modal);
    });
  });

  // Close on ESC key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      const openModal = document.querySelector('.category-modal[style*="display: flex"]');
      if (openModal) {
        closeModal(openModal);
      }
    }
  });
})();
</script>
